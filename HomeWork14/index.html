<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" href="favicon-star.ico" type="image/x-icon">
	<link rel="stylesheet" type="text/css" href="reset.css">
	<link rel="stylesheet" type="text/css" href="main.css">
	<title>HomeWork13</title>
</head>
<body>
	<div class="input-list">
		<table id="phoneBook">
			<tr>
				<th class="number">№</th>
				<th class="Name">Имя</th>
				<th class="Surname">Фамилия</th>
				<th class="PhoneNumber">Телефон</th>
				<th class="deleteButton"> Удаление</th>
			</tr>
		</table>
	</div>
	<div class="input-button">
		<div class="input-button-conteiner">
			<form name="myForm">
				<input class="myInput" 
					   name="myInputName" 
					   type="text" 
					   autofocus 
					   placeholder="Имя" 
					   value=""/>
				<input class="myInput" 
					   name="myInputSurname" 
					   type="text" placeholder="Фамилия" 
					   value=""/>
				<input class="myInput" 
					   name="myInputPhoneNumber" 
					   type="text" 
					   placeholder="Телефон" 
					   value=""/>
				<input class="myInput"
					   name="saveButton" 
					   type="button" 
					   value="Добавить" 
					   onClick="addRow();">
			</form>
		</div>
	</div>

	<script>
		
		let phoneBook = document.querySelector('#phoneBook');
		let myInputName = document.querySelector(`[name="myInputName"]`);
		let myInputSurname = document.querySelector(`[name="myInputSurname"]`);
		let myInputPhoneNumber = document.querySelector(`[name="myInputPhoneNumber"]`);
		let counter = 0;

		function addRow() {
			let add = phoneBook.insertRow(-1);
			let addTr = document.createElement("tr");
			let addTdCounterNumber = document.createElement("td");
			let addTdName = document.createElement("td");
			let addTdSurnameame = document.createElement("td");
			let addTdPhoneNumber = document.createElement("td");
			let addTdDeleteButton = document.createElement("td");
			
			if ( !myInputName.value || !myInputSurname.value ||!myInputPhoneNumber.value) {
				return alert('Введены некоректные данные')
			};
			if (isNaN(myInputPhoneNumber.value)) {
				myInputPhoneNumber.value = ``;
				return alert('Введены некоректные данные')
			};
			if (/\d/.test(myInputName.value)) {
				myInputName.value = ``;
				return alert('Введены некоректные данные')
			};
			if (/\d/.test(myInputSurname.value)) {
				myInputSurname.value = ``;
				return alert('Введены некоректные данные')
			};

			counter += 1;
			addTr.className = ('row');
			addTdCounterNumber.textContent = counter;
			addTdName.textContent = myInputName.value;
			addTdSurnameame.textContent = myInputSurname.value; 
			addTdPhoneNumber.textContent = myInputPhoneNumber.value;
			addTdDeleteButton.innerHTML = '<button class="delRow">Удалить</button>';
			
			addTr.appendChild(addTdCounterNumber);
			addTr.appendChild(addTdName);
			addTr.appendChild(addTdSurnameame);
			addTr.appendChild(addTdPhoneNumber);
			addTr.appendChild(addTdDeleteButton);
			phoneBook.appendChild(addTr);

			myInputName.value = ``;
			myInputSurname.value = ``;
			myInputPhoneNumber.value = ``;
		};

		document.querySelector('#phoneBook')
    		.addEventListener('click', event => {
    			if (event.target.className === 'delRow') {
					event.target.parentNode.parentNode.remove();
    		  };
    		});

	</script>
</body>
